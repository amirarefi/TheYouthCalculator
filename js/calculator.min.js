$(function(){function e(){var e=document.getElementsByTagName("body")[0];e.style.opacity=1}function t(e){var t,a,n,r,i,s,c=new Date,d=new Date(document.getElementById("dob").value),l=c.getTime()-d.getTime();return t=l/315569e5,a=Math.floor(t),n=Math.floor(t%a*12),r=Math.floor(t%a*12%n*30),i=Math.floor(t%a*12*30),0===n&&0!==i?(s="You are "+a.toString()+" years and "+i.toString()+" day(s) old.",o.textContent=s):0===r?(s="You are "+a.toString()+" years and "+n.toString()+"months old.",o.textContent=s):0===i?(s="Happy Birthday! You are "+a.toString()+" years old today.",o.textContent=s):(s="You are "+a.toString()+" years, "+n.toString()+" month(s) and "+r.toString()+" day(s) old.",o.textContent=s),a}function a(e){function a(e,t){return Math.floor(e/t*100)}function n(){function e(e){var t,n=0;b.setAttribute("style","width: 0%"),f.setAttribute("style","width: 0%");var o=setInterval(function(){n+=1,t="width: "+n.toString()+"%",m.setAttribute("style",t),g.textContent=n.toString()+"%",n===a(c,i)&&(clearInterval(o),e())},50)}function t(){var e,t=0,o=setInterval(function(){if(t+=1,e="width: "+t.toString()+"%",b.setAttribute("style",e),y.textContent=t.toString()+"%",t===a(s,i)){clearInterval(o);var r,c=0,d=setInterval(function(){c+=1,r="width: "+c.toString()+"%",f.setAttribute("style",r),h.textContent=c.toString()+"%",c==n&&clearInterval(d)},50)}},50)}var n=100-(a(c,i)+a(s,i));e(t)}function o(e,t,a){this.info=e,this.sex=a,this.region=t,r.style.opacity=1,r.textContent="The life expectancy in your region  ("+t+") is "+e.toString()+" years for "+a.toString()+". The red bar shows life lived and the green bar shows the precentage of your life remaining before you get old (orange bar)."}var i,s,c=t(),d=document.getElementById("radioBttn1").checked,l=document.getElementById("radioBttn2").checked,u=document.getElementById("region"),m=document.getElementById("lifebar1"),b=document.getElementById("lifebar2"),f=document.getElementById("lifebar3"),g=document.getElementById("txt1"),y=document.getElementById("txt2"),h=document.getElementById("txt3"),v=u.options[u.selectedIndex].value;s="Africa"===v?45-c:"MedEast"==v||"SeAsia"==v?55-c:60-c;var E=[57,60],A=[73,80],S=[74,80],p=[66,70],k=[74,78],I=[67,70],M=[76,81],B=[80,85],x=[80,87],C=[78,85];if(d)switch(v){case"US":i=M[0],n(),o(i,"US","Men");break;case"Europe":i=A[0],n(),o(i,"Europe","Men");break;case"Americas":i=S[0],n(),o(i,"Americas","Men");break;case"Africa":i=E[0],n(),o(i,"Africa","Men");break;case"Japan":i=x[0],n(),o(i,"Japan","Men");break;case"ANZ":i=B[0],n(),o(i,"Australia/NZ","Men");break;case"Korea":i=C[0],n(),o(i,"Korea","Men");break;case"Pacific":i=k[0],n(),o(i,"Pacific","Men");break;case"SeAsia":i=p[0],n(),o(i,"SE Asia","Men");break;case"MedEast":i=I[0],n(),o(i,"Eastern Mediterranean","Men")}else if(l)switch(v){case"US":i=M[1],n(),o(i,"US","Women");break;case"Europe":i=A[1],n(),o(i,"Europe","Women");break;case"Americas":i=S[1],n(),o(i,"Americas","Women");break;case"Africa":i=E[1],n(),o(i,"Africa","Women");break;case"Japan":i=x[1],n(),o(i,"Japan","Women");break;case"ANZ":i=B[1],n(),o(i,"Australia/NZ","Women");break;case"Korea":i=C[1],n(),o(i,"Korea","Women");break;case"Pacific":i=k[1],n(),o(i,"Pacific","Women");break;case"SeAsia":i=p[1],n(),o(i,"SE Asia","Women");break;case"MedEast":i=I[1],n(),o(i,"Eastern Mediterranean","Women")}}setTimeout(e,500);var n=document.getElementById("calcBttn"),o=document.getElementById("ageDisplayMsg"),r=document.getElementById("lifeMsg");n.addEventListener("click",function(e){var n=new Date(document.getElementById("dob").value),i=t();if(isNaN(n)||i>40||5>i)o.textContent="Please choose a valid date of birth from the date picker",r.textContent="";else{var s=document.getElementById("calcBttn");$("body").animate({scrollTop:$("#life-bar").offset().top},1e3),$(s).removeClass("btn btn-custom"),$(s).addClass("btn-custom-disbaled").prop("disabled",!0),s.setAttribute("value","Calculating..."),t(e),a(e),setTimeout(function(){$(s).removeClass("btn-custom-disbaled"),$(s).addClass("btn btn-custom").prop("disabled",!1),s.setAttribute("value","Calculate")},5e3)}},!1)}());